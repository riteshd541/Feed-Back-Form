{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anil kumar\\\\Desktop\\\\techbrj\\\\dynamic-feedback-form\\\\src\\\\FeedbackForm.js\";\nimport React, { Component } from \"react\";\nimport { FormControl, Radio, FormControlLabel, Button } from \"@material-ui/core\";\nimport \"./FeedbackForm.css\";\nclass FeedbackForm extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = (index, choice) => {\n      const choices = [...this.state.choices];\n      choices[index] = choice;\n      this.setState({\n        choices\n      });\n    };\n    this.handleSubmit = e => {\n      e.preventDefault(); // Prevent form submission\n\n      const {\n        questions,\n        choices\n      } = this.state;\n\n      // Check if any question has not been answered\n      if (choices.length !== questions.length || choices.includes(\"\")) {\n        alert(\"Please answer all questions before submitting.\");\n        return; // Exit early if any question is not answered\n      } else {\n        alert(\"Form submitted successfully\");\n      }\n\n      // Construct feedback object\n      const feedback = {\n        feedback: {\n          questions,\n          choices\n        }\n      };\n\n      // Perform submission logic\n      console.log(feedback); // You can replace this with actual submission logic\n    };\n    this.state = {\n      questions: [],\n      choices: []\n    };\n  }\n  componentDidMount() {\n    fetch(\"https://brijfeedback.pythonanywhere.com/api/get-feedback-questions/?unitID=1\").then(response => response.json()).then(data => {\n      if (data && data.feedbackQuestions && data.choices) {\n        // Process data and set state\n        this.setState({\n          questions: data.feedbackQuestions,\n          choices: data.choices // Set choices directly from API response\n        });\n      } else {\n        console.error(\"Error fetching data: Questions or choices data not found\");\n      }\n    }).catch(error => console.error(\"Error fetching data:\", error));\n  }\n  render() {\n    const {\n      questions,\n      choices\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, \"Feedback form\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, questions.map((question, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-container\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, question), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"radio-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      component: \"fieldset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Radio, {\n      checked: choices[index] === \"Yes\",\n      onChange: () => this.handleChange(index, \"Yes\"),\n      value: \"Yes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"Yes\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 30\n        }\n      }),\n      label: \"Yes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Radio, {\n      checked: choices[index] === \"No\",\n      onChange: () => this.handleChange(index, \"No\"),\n      value: \"No\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"No\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 57\n        }\n      }),\n      label: \"No\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Radio, {\n      checked: choices[index] === \"Maybe\",\n      onChange: () => this.handleChange(index, \"Maybe\"),\n      value: \"Maybe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"Maybe\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 30\n        }\n      }),\n      label: \"Maybe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Submit\")));\n  }\n}\nexport default FeedbackForm;","map":{"version":3,"names":["React","Component","FormControl","Radio","FormControlLabel","Button","FeedbackForm","constructor","props","handleChange","index","choice","choices","state","setState","handleSubmit","e","preventDefault","questions","length","includes","alert","feedback","console","log","componentDidMount","fetch","then","response","json","data","feedbackQuestions","error","catch","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","map","question","key","component","checked","onChange","value","control","label","type","variant","color"],"sources":["C:/Users/anil kumar/Desktop/techbrj/dynamic-feedback-form/src/FeedbackForm.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  FormControl,\r\n  Radio,\r\n  FormControlLabel,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport \"./FeedbackForm.css\";\r\n\r\nclass FeedbackForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      questions: [],\r\n      choices: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\r\n      \"https://brijfeedback.pythonanywhere.com/api/get-feedback-questions/?unitID=1\"\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data && data.feedbackQuestions && data.choices) {\r\n          // Process data and set state\r\n          this.setState({\r\n            questions: data.feedbackQuestions,\r\n            choices: data.choices, // Set choices directly from API response\r\n          });\r\n        } else {\r\n          console.error(\r\n            \"Error fetching data: Questions or choices data not found\"\r\n          );\r\n        }\r\n      })\r\n      .catch((error) => console.error(\"Error fetching data:\", error));\r\n  }\r\n\r\n  handleChange = (index, choice) => {\r\n    const choices = [...this.state.choices];\r\n    choices[index] = choice;\r\n    this.setState({ choices });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault(); // Prevent form submission\r\n\r\n    const { questions, choices } = this.state;\r\n\r\n    // Check if any question has not been answered\r\n    if (choices.length !== questions.length || choices.includes(\"\")) {\r\n      alert(\"Please answer all questions before submitting.\");\r\n      return; // Exit early if any question is not answered\r\n    } else {\r\n      alert(\"Form submitted successfully\");\r\n    }\r\n\r\n    // Construct feedback object\r\n    const feedback = { feedback: { questions, choices } };\r\n\r\n    // Perform submission logic\r\n    console.log(feedback); // You can replace this with actual submission logic\r\n  };\r\n\r\n  render() {\r\n    const { questions, choices } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <h1>Feedback form</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {questions.map((question, index) => (\r\n            <div className=\"question-container\" key={index}>\r\n              <p className=\"question-text\">{question}</p>\r\n              <div className=\"radio-options\">\r\n                <FormControl component=\"fieldset\">\r\n                  <Radio\r\n                    checked={choices[index] === \"Yes\"}\r\n                    onChange={() => this.handleChange(index, \"Yes\")}\r\n                    value=\"Yes\"\r\n                  />\r\n                  <FormControlLabel\r\n                    value=\"Yes\"\r\n                    control={<Radio />}\r\n                    label=\"Yes\"\r\n                  />\r\n                  <Radio\r\n                    checked={choices[index] === \"No\"}\r\n                    onChange={() => this.handleChange(index, \"No\")}\r\n                    value=\"No\"\r\n                  />\r\n                  <FormControlLabel value=\"No\" control={<Radio />} label=\"No\" />\r\n                  <Radio\r\n                    checked={choices[index] === \"Maybe\"}\r\n                    onChange={() => this.handleChange(index, \"Maybe\")}\r\n                    value=\"Maybe\"\r\n                  />\r\n                  <FormControlLabel\r\n                    value=\"Maybe\"\r\n                    control={<Radio />}\r\n                    label=\"Maybe\"\r\n                  />\r\n                </FormControl>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n            Submit\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FeedbackForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}