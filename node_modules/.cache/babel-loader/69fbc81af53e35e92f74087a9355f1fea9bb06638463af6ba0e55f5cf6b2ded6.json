{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anil kumar\\\\Desktop\\\\techbrj\\\\dynamic-feedback-form\\\\src\\\\FeedbackForm.js\";\nimport React, { Component } from \"react\";\nimport { FormControl, RadioGroup, FormControlLabel, Radio, Button } from \"@material-ui/core\";\nimport \"./FeedbackForm.css\";\nclass FeedbackForm extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = (questionIndex, choice) => {\n      const {\n        choices\n      } = this.state;\n      const newChoices = [...choices];\n      newChoices[questionIndex] = choice;\n      this.setState({\n        choices: newChoices\n      });\n    };\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        questions,\n        choices\n      } = this.state;\n      if (choices.length !== questions.length || choices.includes(\"\")) {\n        alert(\"Please answer all questions before submitting.\");\n        return;\n      } else {\n        alert(\"Form submitted successfully\");\n      }\n      const feedback = {\n        feedback: {\n          questions,\n          choices\n        }\n      };\n      console.log(feedback);\n    };\n    this.state = {\n      questions: [],\n      choices: [],\n      loading: true,\n      error: null\n    };\n  }\n  componentDidMount() {\n    fetch(\"https://brijfeedback.pythonanywhere.com/api/get-feedback-questions/?unitID=1\").then(response => response.json()).then(data => {\n      if (data && data.feedbackQuestions && data.choices) {\n        this.setState({\n          questions: data.feedbackQuestions,\n          choices: data.choices,\n          loading: false\n        });\n      } else {\n        throw new Error(\"Data fetching error: Data format incorrect\");\n      }\n    }).catch(error => {\n      console.error(\"Error fetching data:\", error);\n      this.setState({\n        error: error.message,\n        loading: false\n      });\n    });\n  }\n  render() {\n    const {\n      questions,\n      choices,\n      loading,\n      error\n    } = this.state;\n    if (loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 14\n        }\n      }, \"Loading...\");\n    }\n    if (error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 14\n        }\n      }, \"Error: \", error);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, \"Feedback form\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, questions.map((question, questionIndex) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-container\",\n      key: questionIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, question), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"radio-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      component: \"fieldset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      value: choices[questionIndex] || \"\",\n      onChange: e => this.handleChange(questionIndex, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, choices[questionIndex].map((choice, choiceIndex) => /*#__PURE__*/React.createElement(FormControlLabel, {\n      key: choiceIndex,\n      value: choice,\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 34\n        }\n      }),\n      label: choice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }))))))), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"Submit\")));\n  }\n}\nexport default FeedbackForm;","map":{"version":3,"names":["React","Component","FormControl","RadioGroup","FormControlLabel","Radio","Button","FeedbackForm","constructor","props","handleChange","questionIndex","choice","choices","state","newChoices","setState","handleSubmit","e","preventDefault","questions","length","includes","alert","feedback","console","log","loading","error","componentDidMount","fetch","then","response","json","data","feedbackQuestions","Error","catch","message","render","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","map","question","key","component","value","onChange","target","choiceIndex","control","label","type","variant","color"],"sources":["C:/Users/anil kumar/Desktop/techbrj/dynamic-feedback-form/src/FeedbackForm.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  FormControl,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport \"./FeedbackForm.css\";\r\n\r\nclass FeedbackForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      questions: [],\r\n      choices: [],\r\n      loading: true,\r\n      error: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\r\n      \"https://brijfeedback.pythonanywhere.com/api/get-feedback-questions/?unitID=1\"\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data && data.feedbackQuestions && data.choices) {\r\n          this.setState({\r\n            questions: data.feedbackQuestions,\r\n            choices: data.choices,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          throw new Error(\"Data fetching error: Data format incorrect\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching data:\", error);\r\n        this.setState({ error: error.message, loading: false });\r\n      });\r\n  }\r\n\r\n  handleChange = (questionIndex, choice) => {\r\n    const { choices } = this.state;\r\n    const newChoices = [...choices];\r\n    newChoices[questionIndex] = choice;\r\n    this.setState({ choices: newChoices });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { questions, choices } = this.state;\r\n\r\n    if (choices.length !== questions.length || choices.includes(\"\")) {\r\n      alert(\"Please answer all questions before submitting.\");\r\n      return;\r\n    } else {\r\n      alert(\"Form submitted successfully\");\r\n    }\r\n\r\n    const feedback = { feedback: { questions, choices } };\r\n    console.log(feedback);\r\n  };\r\n\r\n  render() {\r\n    const { questions, choices, loading, error } = this.state;\r\n\r\n    if (loading) {\r\n      return <div>Loading...</div>;\r\n    }\r\n\r\n    if (error) {\r\n      return <div>Error: {error}</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <h1>Feedback form</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {questions.map((question, questionIndex) => (\r\n            <div className=\"question-container\" key={questionIndex}>\r\n              <p className=\"question-text\">{question}</p>\r\n              <div className=\"radio-options\">\r\n                <FormControl component=\"fieldset\">\r\n                  <RadioGroup\r\n                    value={choices[questionIndex] || \"\"}\r\n                    onChange={(e) =>\r\n                      this.handleChange(questionIndex, e.target.value)\r\n                    }\r\n                  >\r\n                    {choices[questionIndex].map((choice, choiceIndex) => (\r\n                      <FormControlLabel\r\n                        key={choiceIndex}\r\n                        value={choice}\r\n                        control={<Radio />}\r\n                        label={choice}\r\n                      />\r\n                    ))}\r\n                  </RadioGroup>\r\n                </FormControl>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n            Submit\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FeedbackForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}